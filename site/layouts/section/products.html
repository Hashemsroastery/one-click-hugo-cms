{{ define "main" }}

{{ partial "jumbotron" (dict "imageUrl" .Params.image "title" .Title) }}

{{ if .Params.navigation_panel }}
<style>
  .nav-btn {
    background-color: #6F4E37;
    color: white;
    border: none;
    border-radius: 4px;
    padding: 8px 12px;
    margin: 4px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    position: relative;
    overflow: visible;
    white-space: nowrap;
    font-size: 0.9rem;
  }
  .nav-btn:hover {
    transform: translateY(-3px) scale(1.05);
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    z-index: 10;
  }
  .nav-btn[data-fullname]:hover::before {
    content: attr(data-fullname);
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    background: #6F4E37;
    color: white;
    padding: 6px 10px;
    border-radius: 4px;
    font-size: 0.9rem;
    white-space: nowrap;
    margin-bottom: 8px;
    pointer-events: none;
  }
  .nav-panel {
    background-color: #f5f5f5;
    padding: 10px 0;
    position: sticky;
    top: 0;
    z-index: 100;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  }
  .nav-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 15px;
  }
  .nav-buttons {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 8px;
  }
</style>

<div class="nav-panel">
  <div class="nav-container">
    <div class="nav-buttons">
      {{ range .Params.product_sections }}
        {{ $displayName := .heading }}
        {{ if strings.Contains $displayName "Featured Coffee Beans" }}{{ $displayName = "Coffee" }}{{ end }}
        {{ if strings.Contains $displayName "حبوب القهوة" }}{{ $displayName = "قهوة" }}{{ end }}
        {{ if strings.Contains $displayName "Baladi products" }}{{ $displayName = "Baladi" }}{{ end }}
        {{ if strings.Contains $displayName "منتجات بلدية" }}{{ $displayName = "بلدية" }}{{ end }}
        {{ if strings.Contains $displayName "Spices" }}{{ $displayName = "Spices" }}{{ end }}
        {{ if strings.Contains $displayName "بهارات" }}{{ $displayName = "بهارات" }}{{ end }}
        <!-- Add more replacements as needed -->
        
        <button 
          onclick="event.preventDefault(); document.getElementById('{{ .heading | anchorize }}').scrollIntoView({ behavior: 'smooth' });"
          class="nav-btn"
          data-fullname="{{ .heading }}"
        >
          {{ $displayName }}
        </button>
      {{ end }}
    </div>
  </div>
</div>
{{ end }}

{{ range .Params.product_sections }}
  <div class="mw7 center ph3 pv3" id="{{ .heading | anchorize }}">
    <h2 class="f2 b mb3 tc">{{ .heading }}</h2>
    <div class="flex flex-wrap mhn1">
      {{ range .products }}
        <div class="w-100 w-33-ns ph2 mb4">
          <img src="{{ .image }}" alt="" class="db mb2 center br2 shadow-1" style="width:100%; max-width:450px; height:350px; object-fit:cover;">
          <p class="tc f4 lh-copy">{{ .description | safeHTML }}</p>
        </div>
      {{ end }}
    </div>
  </div>
{{ end }}

{{ end }}
